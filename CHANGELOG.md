# 更新日志

## v1.3.0 (2025-11-22)

### ✨ 新增功能

#### 1. 设置页面
- ✅ **个人信息编辑**
  - 支持修改昵称
  - 支持切换角色身份（女朋友/男朋友）
  - 角色切换确认对话框

- ✅ **数据管理**
  - 数据导出（JSON格式，带时间戳）
  - 数据导入（支持从备份恢复）
  - 数据清空（双重确认保护）
  - 实时显示存储使用情况

- ✅ **数据概览**
  - 显示记仇记录总数
  - 显示甜蜜回忆总数
  - 显示原谅记录数
  - 显示存储占用大小

- ✅ **关于信息**
  - 应用名称
  - 版本号（v1.3.0）
  - 数据存储方式
  - 隐私保护说明

#### 2. 成就系统
- ✅ **23个成就设计**
  - 记仇类成就（6个）：第一笔账、记仇达人、账本专家、记仇大师、火山爆发、脾气暴躁
  - 回忆类成就（6个）：第一份甜蜜、甜蜜回忆、幸福满溢、爱的见证、超级感动、天天甜蜜
  - 和谐类成就（11个）：第一次原谅、宽容大度、和平使者、天使伴侣、完美关系、神仙眷侣、完美平衡、百里挑一、天长地久、忠实用户

- ✅ **智能检测机制**
  - 添加记仇/回忆时自动检测
  - 原谅操作时自动检测
  - 删除记录时重新计算
  - 实时更新进度条

- ✅ **解锁通知**
  - 顶部金色渐变弹窗
  - 显示成就图标、名称和描述
  - 3秒后自动消失
  - 支持多个成就同时解锁

- ✅ **成就墙展示**（统计页面）
  - 3列网格布局
  - 已解锁：金色背景 + 彩色图标 + ✓ 标记
  - 未解锁：灰色背景 + 🔒 图标 + 进度条
  - 顶部总进度统计
  - 底部分类统计（记仇/回忆/和谐）
  - 已解锁成就放大交互效果

#### 3. 手势操作
- ✅ **记仇卡片手势**
  - 向右滑动 → 快速原谅
  - 向左滑动 → 快速删除
  - 滑动时显示背景提示图标（✓ / 🗑️）
  - 达到阈值后自动触发操作
  - 滑动过程中卡片背景颜色变化

- ✅ **回忆卡片手势**
  - 向左滑动 → 快速删除
  - 滑动时显示删除图标提示
  - 达到阈值后自动触发删除
  - 滑动过程中背景颜色变化

### 🔧 技术优化
- 使用 Framer Motion 的 `drag` API 实现流畅手势
- 成就数据持久化到 localStorage
- 成就检测逻辑独立封装在 `AchievementService`
- 手势阈值设置为 100px，提供良好的操作体验
- 所有操作都有视觉反馈动画

### 📦 版本信息更新
- package.json: 1.3.0
- Android versionCode: 3
- Android versionName: 1.3.0
- 应用内显示版本: v1.3.0

### 🎨 UI/UX 改进
- 成就解锁动画（金色弹窗）
- 手势操作视觉反馈
- 进度条动画效果
- 分类统计展示

---

## v1.0.0 (初始版本)

### 基础功能
- 记仇功能（添加、原谅、删除）
- 回忆功能（添加、删除）
- 统计页面（和谐度、数据卡片、标签云、洞察）
- 搜索功能（关键词高亮、类型筛选）
- 底部导航栏（首页、回忆、统计、设置）
- 角色系统（女朋友/男朋友视角）
